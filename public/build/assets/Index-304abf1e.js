import{p as w,r as i,m as x,o as N,f as A,a as b,u as C,Z as k,w as M,b as e,e as S,i as o,v as r,t as L,F as E,H as m}from"./app-c6bec88b.js";import{A as I}from"./AuthenticatedLayout-cf5da756.js";import"./_plugin-vue_export-helper-c27b6911.js";const T={class:"min-h-screen bg-gray-100 p-6"},P={class:"bg-white shadow-md rounded-lg p-6"},D={class:"max-w-3xl mx-auto"},U={class:"space-y-6"},j={class:"text-center"},h={class:"w-32 h-32 mx-auto bg-gray-200 rounded-full overflow-hidden"},R=["src"],V={class:"mt-4"},O={class:"cursor-pointer bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md"},H={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Z={class:"border-t pt-6"},z={class:"space-y-4"},B={class:"flex justify-end space-x-4"},F=["disabled"],v="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI2NjYyI+PHBhdGggZD0iTTEyIDEyYzIuMjEgMCA0LTEuNzkgNC00cy0xLjc5LTQtNC00LTQgMS43OS00IDQgMS43OSA0IDQgNHptMCAyYy0yLjY3IDAtOCAxLjM0LTggNHYyaDE2di0yYzAtMi42Ni01LjMzLTQtOC00eiIvPjwvc3ZnPg==",G=w({__name:"Index",props:{user:{},status:{}},setup(g){const a=g,n=i(null),f=x(()=>n.value?URL.createObjectURL(n.value):a.user.avatar?`/storage/${a.user.avatar}`:v),t=i({firstName:a.user.firstName,lastName:a.user.lastName,title:a.user.title,email:a.user.email,about:a.user.about,password:a.user.password}),u=i(!1),p=async()=>{u.value=!0;try{await m.put(route("user.update"),{firstName:t.value.firstName,lastName:t.value.lastName,title:t.value.title,email:t.value.email,about:t.value.about,password:t.value.password}),u.value=!1,m.visit(route("user.index"))}catch(d){u.value=!1,console.error("Error updating user:",d)}},c=()=>{m.visit(route("user.index"))},y=d=>{const s=d.target.files[0];n.value=s};return(d,s)=>(N(),A(E,null,[b(C(k),{title:"Settings"}),b(I,null,{default:M(()=>[e("div",T,[e("div",P,[s[19]||(s[19]=e("div",{class:"flex justify-between items-center mb-6"},[e("h1",{class:"text-2xl font-bold"},"Settings")],-1)),e("div",D,[e("div",U,[e("div",j,[e("div",h,[e("img",{src:f.value,alt:"Profile",class:"w-full h-full object-cover",onError:s[0]||(s[0]=l=>l.target.src=v)},null,40,R)]),e("div",V,[e("label",O,[s[9]||(s[9]=e("span",null,"Change Avatar",-1)),e("input",{type:"file",class:"hidden",accept:"image/*",onChange:y},null,32)])])]),e("form",{onSubmit:S(p,["prevent"]),class:"space-y-6"},[e("div",H,[e("div",null,[s[10]||(s[10]=e("label",{class:"block text-sm font-medium text-gray-700"},"FIRST NAME",-1)),o(e("input",{"onUpdate:modelValue":s[1]||(s[1]=l=>t.value.firstName=l),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[r,t.value.firstName]])]),e("div",null,[s[11]||(s[11]=e("label",{class:"block text-sm font-medium text-gray-700"},"LAST NAME",-1)),o(e("input",{"onUpdate:modelValue":s[2]||(s[2]=l=>t.value.lastName=l),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[r,t.value.lastName]])])]),e("div",null,[s[12]||(s[12]=e("label",{class:"block text-sm font-medium text-gray-700"},"TITLE",-1)),o(e("input",{"onUpdate:modelValue":s[3]||(s[3]=l=>t.value.title=l),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[r,t.value.title]])]),e("div",null,[s[13]||(s[13]=e("label",{class:"block text-sm font-medium text-gray-700"},"EMAIL",-1)),o(e("input",{"onUpdate:modelValue":s[4]||(s[4]=l=>t.value.email=l),type:"email",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[r,t.value.email]])]),e("div",null,[s[14]||(s[14]=e("label",{class:"block text-sm font-medium text-gray-700"},"ABOUT",-1)),o(e("textarea",{"onUpdate:modelValue":s[5]||(s[5]=l=>t.value.about=l),rows:"4",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[r,t.value.about]])]),e("div",Z,[s[18]||(s[18]=e("h3",{class:"text-lg font-medium mb-4"},"Change Password",-1)),e("div",z,[e("div",null,[s[15]||(s[15]=e("label",{class:"block text-sm font-medium text-gray-700"},"CURRENT PASSWORD",-1)),o(e("input",{"onUpdate:modelValue":s[6]||(s[6]=l=>t.value.currentPassword=l),type:"password",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[r,t.value.currentPassword]])]),e("div",null,[s[16]||(s[16]=e("label",{class:"block text-sm font-medium text-gray-700"},"NEW PASSWORD",-1)),o(e("input",{"onUpdate:modelValue":s[7]||(s[7]=l=>t.value.newPassword=l),type:"password",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[r,t.value.newPassword]])]),e("div",null,[s[17]||(s[17]=e("label",{class:"block text-sm font-medium text-gray-700"},"CONFIRM NEW PASSWORD",-1)),o(e("input",{"onUpdate:modelValue":s[8]||(s[8]=l=>t.value.newPasswordConfirmation=l),type:"password",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[r,t.value.newPasswordConfirmation]])])])]),e("div",B,[e("button",{type:"button",onClick:c,class:"px-4 py-2 border rounded-md hover:bg-gray-50"}," Cancel "),e("button",{type:"submit",class:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",disabled:u.value},L(u.value?"Saving...":"Save Changes"),9,F)])],32)])])])])]),_:1})],64))}});export{G as default};
